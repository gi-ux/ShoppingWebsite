<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org/"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      th:fragment="layout(title, metas, logo, nav, content, footer)">

<link rel="stylesheet" type="text/css" th:href="@{/css/styleIndex.css}"/>
<link th:href="@{/webjars/bootstrap/4.5.3/css/bootstrap.min.css}" rel="stylesheet">
<script th:src="@{/js/registerControl.js}"></script>

<head>
    <!-- META -->
    <meta charset="UTF-8">
    <meta name="description" content="Items page">
    <meta name="keywords" content="HTML, CSS">
    <meta name="author" content="Gianluca Nogara">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title th:include="${title}"></title>
    <base th:href="@{/}">
    </head>

<body>
        <header th:include="${logo}">
            <div align="center">
                <img th:src="@{/images/index.jpg}"/>
            </div>
        </header>

        <nav th:include="${nav}" class="navbar navbar-dark bg-dark">
            <button class="btn btn-outline-success" sec:authorize="isAuthenticated()" th:onclick="'window.location.href = \'' + @{/item/new} + '\''"  type="submit">Crea item</button>
            <button class="btn btn-outline-success" sec:authorize="!isAuthenticated()" th:onclick="'window.location.href = \'' + @{/login} + '\''"  type="submit">Login</button>
            <button class="btn btn-outline-success" sec:authorize="isAuthenticated()" th:onclick="'window.location.href = \'' + @{/user/{user}(user=${#authentication.name})} + '\''"  type="submit">Profile</button>
        </nav>

        <br>

        <!-- contenuto pagina -->
<main th:include="${content}">
</main>

    <footer th:include="${footer}">
        <small>Copyleft CC-by 2020 by Gianluca Nogara</small>
    </footer>
    </body>
</html>